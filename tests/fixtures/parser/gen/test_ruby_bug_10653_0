--INPUT
true ? 1.tap do |n| p n end : 0
--LOCATIONS
                            ~ colon ()
     ~ question ()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ expression ()
~~~~ expression (cond)
             ~~ begin (truthy)
                        ~~~ end (truthy)
       ~~~~~~~~~~~~~~~~~~~~ expression (truthy)
         ~~~ selector (truthy/call)
       ~~~~~ expression (truthy/call)
       ~ expression (truthy/call/recv)
                ~ begin (truthy/args)
                  ~ end (truthy/args)
                ~~~ expression (truthy/args)
                 ~ expression (truthy/args/arg[0])
                 ~ name (truthy/args/arg[0]/item[0])
                 ~ expression (truthy/args/arg[0]/item[0])
                    ~ selector (truthy/body)
                    ~~~ expression (truthy/body)
                      ~ name (truthy/body/args[0])
                      ~ expression (truthy/body/args[0])
                              ~ expression (falsey)
--AST
s(:if,
  s(:true),
  s(:block,
    s(:send,
      s(:int, "1"), "tap"),
    s(:args,
      s(:procarg0,
        s(:arg, "n"))),
    s(:send, nil, "p",
      s(:lvar, "n"))),
  s(:int, "0"))
