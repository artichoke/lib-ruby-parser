--INPUT
def self.rescued(x) = raise "to be caught" rescue "class #{x}"
--LOCATIONS
~~~ keyword (root)
        ~ operator (root)
         ~~~~~~~ name (root)
                    ~ assignment (root)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ expression (root)
    ~~~~ expression (root -> definee)
                ~ begin (root -> args)
                  ~ end (root -> args)
                ~~~ expression (root -> args)
                 ~ expression (root -> args -> arglist -> 0)
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ expression (root -> body)
                      ~~~~~ selector (root -> body -> body)
                      ~~~~~~~~~~~~~~~~~~~~ expression (root -> body -> body)
                            ~ begin (root -> body -> body -> args -> 0)
                                         ~ end (root -> body -> body -> args -> 0)
                            ~~~~~~~~~~~~~~ expression (root -> body -> body -> args -> 0)
                                           ~~~~~~ keyword (root -> body -> rescue_bodies -> 0)
                                           ~~~~~~~~~~~~~~~~~~~ expression (root -> body -> rescue_bodies -> 0)
                                                  ~ begin (root -> body -> rescue_bodies -> 0 -> body)
                                                             ~ end (root -> body -> rescue_bodies -> 0 -> body)
                                                  ~~~~~~~~~~~~ expression (root -> body -> rescue_bodies -> 0 -> body)
                                                   ~~~~~~ expression (root -> body -> rescue_bodies -> 0 -> body -> parts -> 0)
                                                         ~~ begin (root -> body -> rescue_bodies -> 0 -> body -> parts -> 1)
                                                            ~ end (root -> body -> rescue_bodies -> 0 -> body -> parts -> 1)
                                                         ~~~~ expression (root -> body -> rescue_bodies -> 0 -> body -> parts -> 1)
                                                           ~ expression (root -> body -> rescue_bodies -> 0 -> body -> parts -> 1 -> stmts -> 0)
--AST
s(:defs,
  s(:self), "rescued",
  s(:args,
    s(:arg, "x")),
  s(:rescue,
    s(:send, nil, "raise",
      s(:str, "to be caught")),
    s(:resbody, nil, nil,
      s(:dstr,
        s(:str, "class "),
        s(:begin,
          s(:lvar, "x")))), nil))
